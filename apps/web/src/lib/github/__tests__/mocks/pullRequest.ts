import type { RestEndpointMethodTypes } from '@octokit/rest';

export type PullRequestParams = RestEndpointMethodTypes['pulls']['get']['parameters'];
export type PullRequestResponse = RestEndpointMethodTypes['pulls']['get']['response'];

export function createPullRequestResponse(params: PullRequestParams): PullRequestResponse {
  return {
    data: {
      id: 1,
      number: params.pull_number,
      state: 'open',
      title: 'Test PR',
      body: 'Test PR description',
      user: {
        login: 'test-user',
        id: 1,
        node_id: 'U_1',
        avatar_url: 'https://github.com/images/error/octocat.gif',
        gravatar_id: '',
        url: 'https://api.github.com/users/test-user',
        html_url: 'https://github.com/test-user',
        followers_url: 'https://api.github.com/users/test-user/followers',
        following_url: 'https://api.github.com/users/test-user/following{/other_user}',
        gists_url: 'https://api.github.com/users/test-user/gists{/gist_id}',
        starred_url: 'https://api.github.com/users/test-user/starred{/owner}{/repo}',
        subscriptions_url: 'https://api.github.com/users/test-user/subscriptions',
        organizations_url: 'https://api.github.com/users/test-user/orgs',
        repos_url: 'https://api.github.com/users/test-user/repos',
        events_url: 'https://api.github.com/users/test-user/events{/privacy}',
        received_events_url: 'https://api.github.com/users/test-user/received_events',
        type: 'User',
        site_admin: false
      },
      node_id: 'PR_1',
      html_url: `https://github.com/${params.owner}/${params.repo}/pull/${params.pull_number}`,
      diff_url: `https://github.com/${params.owner}/${params.repo}/pull/${params.pull_number}.diff`,
      patch_url: `https://github.com/${params.owner}/${params.repo}/pull/${params.pull_number}.patch`,
      issue_url: `https://api.github.com/repos/${params.owner}/${params.repo}/issues/${params.pull_number}`,
      commits_url: `https://api.github.com/repos/${params.owner}/${params.repo}/pulls/${params.pull_number}/commits`,
      review_comments_url: `https://api.github.com/repos/${params.owner}/${params.repo}/pulls/${params.pull_number}/comments`,
      review_comment_url: `https://api.github.com/repos/${params.owner}/${params.repo}/pulls/comments{/number}`,
      comments_url: `https://api.github.com/repos/${params.owner}/${params.repo}/issues/${params.pull_number}/comments`,
      statuses_url: `https://api.github.com/repos/${params.owner}/${params.repo}/statuses/head-sha`,
      head: {
        label: 'test-user:feature',
        ref: 'feature',
        sha: 'head-sha',
        user: {
          login: 'test-user',
          id: 1,
          node_id: 'U_1',
          avatar_url: 'https://github.com/images/error/octocat.gif',
          gravatar_id: '',
          url: 'https://api.github.com/users/test-user',
          html_url: 'https://github.com/test-user',
          followers_url: 'https://api.github.com/users/test-user/followers',
          following_url: 'https://api.github.com/users/test-user/following{/other_user}',
          gists_url: 'https://api.github.com/users/test-user/gists{/gist_id}',
          starred_url: 'https://api.github.com/users/test-user/starred{/owner}{/repo}',
          subscriptions_url: 'https://api.github.com/users/test-user/subscriptions',
          organizations_url: 'https://api.github.com/users/test-user/orgs',
          repos_url: 'https://api.github.com/users/test-user/repos',
          events_url: 'https://api.github.com/users/test-user/events{/privacy}',
          received_events_url: 'https://api.github.com/users/test-user/received_events',
          type: 'User',
          site_admin: false
        },
        repo: {
          id: 1,
          node_id: 'R_1',
          name: params.repo,
          full_name: `${params.owner}/${params.repo}`,
          owner: {
            login: params.owner,
            id: 1,
            node_id: 'U_1',
            avatar_url: 'https://github.com/images/error/octocat.gif',
            gravatar_id: '',
            url: `https://api.github.com/users/${params.owner}`,
            html_url: `https://github.com/${params.owner}`,
            followers_url: `https://api.github.com/users/${params.owner}/followers`,
            following_url: `https://api.github.com/users/${params.owner}/following{/other_user}`,
            gists_url: `https://api.github.com/users/${params.owner}/gists{/gist_id}`,
            starred_url: `https://api.github.com/users/${params.owner}/starred{/owner}{/repo}`,
            subscriptions_url: `https://api.github.com/users/${params.owner}/subscriptions`,
            organizations_url: `https://api.github.com/users/${params.owner}/orgs`,
            repos_url: `https://api.github.com/users/${params.owner}/repos`,
            events_url: `https://api.github.com/users/${params.owner}/events{/privacy}`,
            received_events_url: `https://api.github.com/users/${params.owner}/received_events`,
            type: 'User',
            site_admin: false
          },
          private: false,
          html_url: `https://github.com/${params.owner}/${params.repo}`,
          description: 'Test repository',
          fork: false,
          url: `https://api.github.com/repos/${params.owner}/${params.repo}`,
          created_at: '2024-01-01T00:00:00Z',
          updated_at: '2024-01-01T00:00:00Z',
          pushed_at: '2024-01-01T00:00:00Z',
          git_url: `git://github.com/${params.owner}/${params.repo}.git`,
          ssh_url: `git@github.com:${params.owner}/${params.repo}.git`,
          clone_url: `https://github.com/${params.owner}/${params.repo}.git`,
          svn_url: `https://github.com/${params.owner}/${params.repo}`,
          homepage: null,
          size: 0,
          stargazers_count: 0,
          watchers_count: 0,
          language: 'TypeScript',
          has_issues: true,
          has_projects: true,
          has_downloads: true,
          has_wiki: true,
          has_pages: false,
          has_discussions: false,
          forks_count: 0,
          mirror_url: null,
          archived: false,
          disabled: false,
          open_issues_count: 1,
          license: null,
          allow_forking: true,
          is_template: false,
          web_commit_signoff_required: false,
          topics: [],
          visibility: 'public',
          forks: 0,
          open_issues: 1,
          watchers: 0,
          default_branch: 'main'
        }
      },
      base: {
        label: `${params.owner}:main`,
        ref: 'main',
        sha: 'base-sha',
        user: {
          login: params.owner,
          id: 1,
          node_id: 'U_1',
          avatar_url: 'https://github.com/images/error/octocat.gif',
          gravatar_id: '',
          url: `https://api.github.com/users/${params.owner}`,
          html_url: `https://github.com/${params.owner}`,
          followers_url: `https://api.github.com/users/${params.owner}/followers`,
          following_url: `https://api.github.com/users/${params.owner}/following{/other_user}`,
          gists_url: `https://api.github.com/users/${params.owner}/gists{/gist_id}`,
          starred_url: `https://api.github.com/users/${params.owner}/starred{/owner}{/repo}`,
          subscriptions_url: `https://api.github.com/users/${params.owner}/subscriptions`,
          organizations_url: `https://api.github.com/users/${params.owner}/orgs`,
          repos_url: `https://api.github.com/users/${params.owner}/repos`,
          events_url: `https://api.github.com/users/${params.owner}/events{/privacy}`,
          received_events_url: `https://api.github.com/users/${params.owner}/received_events`,
          type: 'User',
          site_admin: false
        },
        repo: {
          id: 1,
          node_id: 'R_1',
          name: params.repo,
          full_name: `${params.owner}/${params.repo}`,
          owner: {
            login: params.owner,
            id: 1,
            node_id: 'U_1',
            avatar_url: 'https://github.com/images/error/octocat.gif',
            gravatar_id: '',
            url: `https://api.github.com/users/${params.owner}`,
            html_url: `https://github.com/${params.owner}`,
            followers_url: `https://api.github.com/users/${params.owner}/followers`,
            following_url: `https://api.github.com/users/${params.owner}/following{/other_user}`,
            gists_url: `https://api.github.com/users/${params.owner}/gists{/gist_id}`,
            starred_url: `https://api.github.com/users/${params.owner}/starred{/owner}{/repo}`,
            subscriptions_url: `https://api.github.com/users/${params.owner}/subscriptions`,
            organizations_url: `https://api.github.com/users/${params.owner}/orgs`,
            repos_url: `https://api.github.com/users/${params.owner}/repos`,
            events_url: `https://api.github.com/users/${params.owner}/events{/privacy}`,
            received_events_url: `https://api.github.com/users/${params.owner}/received_events`,
            type: 'User',
            site_admin: false
          },
          private: false,
          html_url: `https://github.com/${params.owner}/${params.repo}`,
          description: 'Test repository',
          fork: false,
          url: `https://api.github.com/repos/${params.owner}/${params.repo}`,
          created_at: '2024-01-01T00:00:00Z',
          updated_at: '2024-01-01T00:00:00Z',
          pushed_at: '2024-01-01T00:00:00Z',
          git_url: `git://github.com/${params.owner}/${params.repo}.git`,
          ssh_url: `git@github.com:${params.owner}/${params.repo}.git`,
          clone_url: `https://github.com/${params.owner}/${params.repo}.git`,
          svn_url: `https://github.com/${params.owner}/${params.repo}`,
          homepage: null,
          size: 0,
          stargazers_count: 0,
          watchers_count: 0,
          language: 'TypeScript',
          has_issues: true,
          has_projects: true,
          has_downloads: true,
          has_wiki: true,
          has_pages: false,
          has_discussions: false,
          forks_count: 0,
          mirror_url: null,
          archived: false,
          disabled: false,
          open_issues_count: 1,
          license: null,
          allow_forking: true,
          is_template: false,
          web_commit_signoff_required: false,
          topics: [],
          visibility: 'public',
          forks: 0,
          open_issues: 1,
          watchers: 0,
          default_branch: 'main'
        }
      },
      author_association: 'OWNER',
      auto_merge: null,
      active_lock_reason: null,
      merged: false,
      mergeable: true,
      rebaseable: true,
      mergeable_state: 'clean',
      merged_by: null,
      comments: 0,
      review_comments: 0,
      maintainer_can_modify: true,
      commits: 1,
      additions: 10,
      deletions: 5,
      changed_files: 2,
      created_at: '2024-01-01T00:00:00Z',
      updated_at: '2024-01-01T00:00:00Z',
      closed_at: null,
      merged_at: null,
      draft: false,
      _links: {
        self: {
          href: `https://api.github.com/repos/${params.owner}/${params.repo}/pulls/${params.pull_number}`
        },
        html: {
          href: `https://github.com/${params.owner}/${params.repo}/pull/${params.pull_number}`
        },
        issue: {
          href: `https://api.github.com/repos/${params.owner}/${params.repo}/issues/${params.pull_number}`
        },
        comments: {
          href: `https://api.github.com/repos/${params.owner}/${params.repo}/issues/${params.pull_number}/comments`
        },
        review_comments: {
          href: `https://api.github.com/repos/${params.owner}/${params.repo}/pulls/${params.pull_number}/comments`
        },
        review_comment: {
          href: `https://api.github.com/repos/${params.owner}/${params.repo}/pulls/comments{/number}`
        },
        commits: {
          href: `https://api.github.com/repos/${params.owner}/${params.repo}/pulls/${params.pull_number}/commits`
        },
        statuses: {
          href: `https://api.github.com/repos/${params.owner}/${params.repo}/statuses/head-sha`
        }
      }
    },
    status: 200,
    url: `https://api.github.com/repos/${params.owner}/${params.repo}/pulls/${params.pull_number}`,
    headers: {
      'x-github-media-type': 'github.v3; format=json',
      'x-ratelimit-limit': '5000',
      'x-ratelimit-remaining': '4999',
      'x-ratelimit-reset': Math.floor(Date.now() / 1000 + 3600).toString(),
      'content-type': 'application/json; charset=utf-8'
    }
  };
}
